<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Recon Command Generator</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
  <style>
    html,
    body {
      height: 100%;
      margin: 0;
      padding: 0;
      background: #000;
      color: #0f0;
      font-size: 16px;
      font-family: monospace;
    }

    .container-fluid {
      padding: 20px;
      height: 100%;
      display: flex;
      flex-direction: column;
    }

    h2,
    .form-label {
      color: #0f0;
    }

    .form-control {
      background-color: #111;
      color: #0f0;
      border: 1px solid #0f0;
    }

    #output {
      flex: 1;
      background-color: #000;
      color: #0f0;
      font-family: monospace;
      font-size: 15px;
      padding: 12px;
      white-space: pre-wrap;
      overflow-y: scroll;
      border: 1px solid #0f0;
    }

    .colored-line {
      display: block;
    }

    button {
      margin-top: 10px;
    }
  </style>
</head>

<body>
  <div class="container-fluid">
    <h2 class="mb-4">üîç Recon Command Generator</h2>

    <label for="target" class="form-label">Enter Target Domain</label>
    <input type="text" class="form-control mb-3" id="target" placeholder="e.g. nasa.gov" />

    <button class="btn btn-primary mb-3" onclick="generateCommands()">Generate Commands</button>

    <label class="form-label">Generated Commands</label>
    <div id="output" class="mb-2"></div>
    <button class="btn btn-success" onclick="copyToClipboard()">Copy Commands</button>
  </div>

  <script>
    const baseCommands = `
# [----- (aceos@MIKE) - [~hacking-commands]
$ subfinder -d {{TARGET}} -all -recursive | tee subfinder.txt
$ shodanx subdomain -d {{TARGET}} -o shodanx.txt
$ assetfinder --subs-only {{TARGET}} | tee -a assertfinder.txt
$ amass enum -active -norecursive -d {{TARGET}} -o amass.txt
$ gobuster dns -d {{TARGET}} -w /mnt/d/Downloads/Documents/subdomain_megalist.txt -o gobuster_temp.txt
$ cat gobuster_temp.txt | awk '{print $2}' | tee gobuster.txt
$ rm gobuster_temp.txt
$ cat subfinder.txt amass.txt shodanx.txt assertfinder.txt gobuster.txt | sort -u | tee -a subs_{{TARGET}}.txt
$ curl -s "https://otx.alienvault.com/api/v1/indicators/hostname/{{TARGET}}/passive_dns" | jq -r '.passive_dns[]?.hostname' | sort -u | tee -a alienvault_subs.txt
$ curl -s "https://urlscan.io/api/v1/search/?q=domain:{{TARGET}}&size=10000" | jq -r '.results[]?.page?.domain' | sort -u | tee urlscan_subs.txt
$ cat subs_{{TARGET}}.txt alienvault_subs.txt urlscan_subs.txt subfinder.txt | sort -u | tee all_subs_{{TARGET}}.txt
$ waymore -i {{TARGET}} -mode U -oU waymore.txt
$ httpx -l all_subs_{{TARGET}}.txt -td -title -sc -ip -o -threads 200 httpx_{{TARGET}}.txt
$ cat gobuster_temp.txt | awk '{print $1}' | tee hosts_alive.txt
$ cat hosts_alive.txt | gau | tee gaurls.txt
$ cat hosts_alive.txt | gauplus -subs -b png,jpg,gif,jpeg,swf,woff,gif,svg -o gauplus.txt
$ cat gauplus.txt gaurls.txt | tee allpassiveurls.txt
$ nuclei -l hosts_alive.txt -t ~/nuclei-templates/ -severity critical,high,medium,low | tee nuclei.txt
$ nuclei -t ~/nuclei-templates/cves/ -list hosts_alive.txt | tee cves.txt
$ cat httpx_{{TARGET}}.txt | awk '{print $1}' > live_subs_{{TARGET}}.txt
`.trim();

    function getRandomColor() {
      const colors = ['#0ff', '#0f0', '#f0f', '#ff0', '#0cf', '#fc0', '#c0f', '#0fa'];
      return colors[Math.floor(Math.random() * colors.length)];
    }

    function generateCommands() {
      const target = document.getElementById("target").value.trim();
      if (!target) {
        alert("Please enter a target domain.");
        return;
      }

      const outputDiv = document.getElementById("output");
      outputDiv.innerHTML = '';

      const replaced = baseCommands.replaceAll("{{TARGET}}", target);
      const lines = replaced.split("\n");

      let previousColor = null;

      lines.forEach(line => {
        let color;
        do {
          color = getRandomColor();
        } while (color === previousColor); // prevent same color twice
        previousColor = color;

        const span = document.createElement("span");
        span.className = "colored-line";
        span.style.color = color;
        span.textContent = line;
        outputDiv.appendChild(span);
      });
    }

    function copyToClipboard() {
      const outputText = Array.from(document.querySelectorAll("#output span"))
        .map(span => {
          const text = span.textContent.trim();
          // Remove anything before and including "$ " (like the prompt)
          const dollarIndex = text.indexOf('$');
          return dollarIndex !== -1 ? text.slice(dollarIndex + 1).trim() : text;
        })
        .join('\n');

      navigator.clipboard.writeText(outputText)
        .then(() => alert("Commands copied to clipboard!"))
        .catch(err => alert("Failed to copy commands."));
    }


  </script>
</body>

</html>
